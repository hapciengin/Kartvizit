/* interact.js v1.10.26 | https://raw.githubusercontent.com/taye/interact.js/main/LICENSE */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.interact=e()}(this,function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?r(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}var f=function(t){return!(!t||!t.Window)&&t instanceof t.Window};function p(t){return!!t&&!!t.constructor&&"Promise"===t.constructor.name}var d,v,h="undefined"==typeof globalThis?window:globalThis,g="undefined"==typeof window?void 0:window,m=f(g)?"true":void 0,y="undefined"!=typeof chrome&&"function"==typeof chrome.runtime.getURL;function b(t){return"string"==typeof t?t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():t}function x(t,e){return"function"==typeof t?t.apply(void 0,e):t}function w(t){return"number"==typeof t}function T(t){return"boolean"==typeof t}function S(t){return"string"==typeof t}function M(t){return"function"==typeof t}function k(t){return"object"==n(t)}function E(t){return k(t)&&null!==t}function O(t){return k(t)&&!!t.nodeType}function A(t){return k(t)&&!f(t)&&t.constructor.name.endsWith("Event")}function P(t){return!(f(t)||y&&S(t)&&/^(chrome-extension:)\/\//.test(t))&&I(t)&&"object"==n(t.process)}function I(t){try{return!!t&&"function"==typeof t.constructor}catch(t){return!1}}function R(t){return d(t.document)}function C(t){for(var e=t;e;){if(R(e))return e;e=e.parentNode}return null}function z(t,e){for(var n=0;n<t.length;n++)e(t[n],n,t)}function D(t,e){for(var n in t)e(t[n],n,t)}var N=h.PointerEvent?h.PointerEvent:h.MSPointerEvent,F=!!N;function _(t){return!!t.changedTouches}function B(t){var e=[],n=[];return _(t)?(z(t.touches,function(t){return e.push(t)}),z(t.changedTouches,function(t){return n.push(t)})):(e.push(t),n.push(t)),{touches:e,changed:n,page:U(n[0]),client:X(n[0]),timeStamp:t.timeStamp}}function U(t){return{x:t.pageX,y:t.pageY}}function X(t){return{x:t.clientX,y:t.clientY}}function Y(t){return t.destination=void 0,t}var V=function(){function t(e){i(this,t),this.id=void 0,this.x=void 0,this.y=void 0,this.id=e.pointerId||e.identifier||-1,this.x=e.pageX,this.y=e.pageY}return e(t,[{key:"clone",value:function(){var e=new t({pageX:0,pageY:0});return e.id=this.id,e.x=this.x,e.y=this.y,e}}]),t}();function j(t,e){return t.substring(0,e.length)===e}function q(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?e.coords.cur.page.y=e.coords.start.page.y:"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x)}z(e.pointers,function(t){var n=t.pointer,r=t.delta,i=t.down,o=t.previous,a=e.prevCoords.page,u=e.coords.cur.page,c=e.interactable;e.pointerIsDown&&e.pointerWasMoved&&!e.pointerIsDragging&&(u.x=o.page.x,u.y=o.page.y,r.page.x=0,r.page.y=0);var s={interaction:e,pointer:n,event:i,eventTarget:e.element,dx:u.x-(c&&c.options.drag.lockAxis?a.x:o.page.x),dy:u.y-(c&&c.options.drag.lockAxis?a.y:o.page.y)};e.fire("dragmove",s)})}var H,Z=["webkit","moz"];function G(t,e){t.addEventListener("mousedown",e),t.addEventListener("touchstart",e),t.addEventListener("pointerdown",e),t.addEventListener("MSPointerDown",e)}function K(t,e){return t=t.options.styleCursor,null==t?e:!0===t?function(t){var e=t.name;return"drag"===e?"grab":"resize"===e?t.axis+"-resize":"",(e=t.name)in{copy:"copy",move:"move",noDrop:"no-drop",all:"all-scroll",colResize:"col-resize",rowResize:"row-resize",nResize:"n-resize",eResize:"e-resize",sResize:"s-resize",wResize:"w-resize",neResize:"ne-resize",nwResize:"nw-resize",seResize:"se-resize",swResize:"sw-resize"}?e:""}(e.prepared):t}function J(t){for(var e=t.interaction,n=e.interactable.options,r=n[e.prepared.name].cursors,i="",o=t.target;o;){if(E(r)){var a,u=r[(a=o,z(n.ignoreFrom,function(t){S(t)?a=a.closest(t):E(t)&&a===t&&(a=null)}),a)?o.getAttribute("data-i-cursor"):null];u&&(i=u)}if(i)return i;o=C(o)}return null}function Q(t,e,n){var r,i,o=(r=t,i=e,H||(H=new(h.MutationObserver||h.WebKitMutationObserver)(function(t){for(var e=0;e<t.length;e++){var n=t[e];if("attributes"===n.type&&n.attributeName===r){i()}}})),H);return o.observe(t,{attributes:!0}),{unobserve:function(){o.disconnect()}}}var W=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"],$=function(){function t(){i(this,t),this.prev=null,this.cur=null,this.start=null,this.delta=null}return e(t,[{key:"set",value:function(t){var e=this,n=t.page,r=t.client;this.cur={page:n,client:r},this.delta={},this.start||(this.start={page:{x:n.x,y:n.y},client:{x:r.x,y:r.y}}),D(this.cur,function(t,n){e.prev?e.delta[n]={x:t.x-e.prev[n].x,y:t.y-e.prev[n].y}:e.delta[n]={x:0,y:0}})}},{key:"setPrev",value:function(){this.prev=this.cur,this.cur=void 0,this.delta=void 0}}]),t}(),Zt="undefined"!=typeof TouchEvent,ee="undefined"!=typeof PointerEvent;function te(t){var e=t.parentNode;if(e)try{for(;"SVG"===e.nodeName.toUpperCase()&&e.parentNode;)e=e.parentNode;return"ownerSVGElement"in e?e.ownerSVGElement:null}catch(t){return null}}function ne(t,e){return g&&"pageX"in t?{x:t.pageX,y:t.pageY}:{x:(e=e||(e=te(t.target))&&e.ownerDocument||t.target.ownerDocument).documentElement.scrollLeft+t.clientX,y:e.documentElement.scrollTop+t.clientY}}function re(t,e){return g&&"clientX"in t?{x:t.clientX,y:t.clientY}:(e=e||(e=te(t.target))&&e.ownerDocument||t.target.ownerDocument,{x:t.pageX-e.documentElement.scrollLeft,y:t.pageY-e.documentElement.scrollTop})}function ie(t){var e,n=te(t);return{page:{x:(e=t).pageX,y:e.pageY},client:{x:t.clientX,y:t.clientY},target:t.target,win:n&&n.ownerDocument.defaultView}}function oe(t,e){var n=g.Element;if(!(t instanceof(n=e&&e.Element||n)))return!1;var r=t.shadowRoot||t.webkitShadowRoot||t.mozShadowRoot||t.msShadowRoot;if(r){var i=r;if(e?t instanceof e.Element:function(){try{var t=new(g.DocumentFragment);return t.appendChild.call(t,document.createElement("div")),!0}catch(t){return!1}}()){for(var o=r;o.host;)o=o.host;return o===t}return!1}return!1}function ae(t,e,n){var r;return t&&(r=t.ownerDocument,e=e||r.defaultView),r&&e&&t instanceof e.Node&&r.contains(t)}var ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},ce="undefined"!=typeof navigator?navigator:{},se=P(ue)?ue.process:void 0,fe="undefined"!=typeof __webpack_require__,pe=fe?"require":"function",de=v="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global&&P(global),ve=(0,eval)('("".concat(pe))("".concat("fs"))');function he(t){return S(t)&&"#"==t[0]&&t.slice(1)}var ge=function(){function t(e){i(this,t),this.type=e,this.target=null,this.currentTarget=null,this.relatedTarget=null,this.result=void 0}return e(t,[{key:"_set",value:function(t){this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget}}]),t}(),me=function(t){function n(t){var e;return i(this,n),e=u.call(this,t),e.originalEvent=void 0,e.interaction=void 0,e.timeStamp=void 0,e.propagationStopped=!1,e.immediatePropagationStopped=!1,e.originalEvent=t,e}return o(n,t),e(n,[{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(ge);function ye(t){return t.trim().split(/ +/)}var be={};function xe(t,e,n){if(n=n||be,t instanceof n.Element){if((r=t)===n.document)return!1;for(;r;){if(j(r.getAttribute("class")||"","interact-ignore"))return!0;r=r.parentNode}}if(S(t)){var r;if(!(n.document.querySelector(t)||!he(t)||(r=n.document.getElementById(he(t)))&&r.classList&&r.classList.contains("interact-ignore")))return!1}var i,o,a=e;for(;null!=a;){if(xe(a,void 0,n))return!0;a=(i=a,o=n,i.parentNode||(oe(i,o)?i.host:void 0))}return!1}var we={},Te={};function Se(t){var e=t.pointerType||t.type;if("touchend"===e||/up$/.test(e))return null;var n=we[e];if(n)return n;var r;return S(t.path)?n=(r=t.path[0],t.path):S(t.composedPath)?n=(r=t.composedPath()[0],t.composedPath()):function(t,e){for(var n=e,r=[];n;){r.push(n),n=n.parentNode}return r}(t,t.target),we[e]=n,n}function Me(t,e,n){var r;return t.composedPath?t.composedPath():(r=[],n&&r.push(n),function(t){for(var e=t;e;){r.push(e),e=e.parentNode}}(e),r)}function ke(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i;if(i.contains(e))return o}return null}function Ee(t,e,n){var r,i,o=g.Element;if(g.document.elementFromPoint&&e&&n){if(g.document.createEvent){var a,u=g.document.createEvent("HTMLEvents");u.initEvent("interact-poke",!0,!0),u.clientX=e,u.clientY=n,t.dispatchEvent(u)}if(t instanceof(o=g&&g.Element||o)){var c;return(c=t.shadowRoot||t.webkitShadowRoot)&&(o=c.elementFromPoint(e,n)),o||g.document.elementFromPoint(e,n)}return null}return(r=t.parentNode)&&oe(r)&&(i=r.elementFromPoint(e,n))?i:null}var Oe=/^(always|never|auto)$/;function Ae(t,e,n){var r,i=t.indexOf(" ");-1!==i&&(n=t.substr(i+1),t=t.substr(0,i));var o=t;return"start"===t?(r=e,o="start"===r?"start":"down",j(r,"start")||j(r,"down")):o="end"===t?"end":"up",o=j(e,o)?e:"invalid"}var Pe=function(t,e,n,r){return!1};function Ie(t,e,n){var r=t.prepared.name,i=t.prepared.axis,o={};return"drag"===r?o.cursor=e.drag?K(n,t):J(n)||"grab":("resize"===r&&(i?o.cursor="y"===i?"row-resize":"col-resize":o.cursor=J(n)||(e.resize?n.axis+"-resize":null)),o.cursor||(o.cursor="")),o}var Re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};function Ce(t){var e=Re.Element;return t instanceof(e=g&&g.Element||e)}function ze(t){return"function"==typeof t.getRootNode?t.getRootNode():function(t){for(;t.parentNode;)t=t.parentNode;return t}(t)}function De(t){var e=t.view;return e.document.body.contains(t.target)}var Ne=function(){function t(e){i(this,t),this.source=void 0,this.source=e}return e(t,[{key:"check",value:function(t,e,n){return!1}}]),t}(),Fe=function(){function t(e,n,r){i(this,t),this.dropzone=e,this.draggableElement=n,this.draggable=r,this.valid=void 0,this.drag=null,this.drop=null}return e(t,null,[{key:"resolve",value:function(e,n){var i=n.interactable,o=n.element,a=n.drop,u=a.options;if(!u.enabled)return null;var c={dropzone:i,draggableElement:o,draggable:n.interactable};return new t(i,o,n.interactable)}},{key:"transformRect",value:function(t,e){if("function"==typeof e){var n=e({x:0,y:0,width:0,height:0});return{x:(t?t.x:0)+n.left,y:(t?t.y:0)+n.top,width:n.width,height:n.height}}var r=e;return t?{x:(t?t.x:0)+(r?r.left:0),y:(t?t.y:0)+(r?r.top:0),width:r?r.width:0,height:r?r.height:0}:void 0}}]),t}(),_e=["checker","drag","drop","preventAbandons","abandon"],Be={};function Ue(t,e,n,r,i,o){return null}var Xe={id:"pointer",before:W,install:function(t){t.pointerEvents={requires:[],fire:function(){}}}},Ye=["options","elemRects","edges"];function je(t,e){return!(!e.options.enabled||t&&e.options.allowFrom&&!e.options.allowFrom.test(t))&&!(e.options.ignoreFrom&&e.options.ignoreFrom.test(t))}function qe(t,e,n){t.rect=t.rect||e.getRect(n),t.edges=t.edges||function(t,e){var n=e.options.edges;if(!n)return{top:!0,left:!0,bottom:!0,right:!0};var r={};return"top"in n&&(r.top=n.top),"bottom"in n&&(r.bottom=n.bottom),"left"in n&&(r.left=n.left),"right"in n&&(r.right=n.right),r}(t,e)}function He(t,e,n){return{axes:"xy",unit:"px",start:0,end:1/0}}function Ze(t,e,n,r,i,o){var a,u=o.width,c=o.height;return n.width=Math.min(e.max.width,Math.max(e.min.width,n.width)),n.height=Math.min(e.max.height,Math.max(e.min.height,n.height)),"x"in r.axes&&(n.width!==u&&(t.x+=n.width-u,n.width=u),"y"in r.axes)||(t.x+=n.width-u),n.width=e.width,n.height!==c&&(t.y+=n.height-c,n.height=c),t.x=Math.max(Math.min(t.x,e.x+e.width-n.width),e.x),t.y=Math.max(Math.min(t.y,e.y+e.height-n.height),e.y),{range:a={min:0,max:0},coords:t,rect:n}}function Ge(t,e,n){return{coords:e,getRect:function(r){var i=r.element,o=r.options;return function(t,e){var n=e.element,r=e.options,i=r.elementRect||{left:0,top:0,right:0,bottom:0,width:0,height:0},o=t.getRect(n);if(o){var a=o.width,u=o.height;r.preserveAspectRatio?("x"===r.axis?u=a/r.aspectRatio:"y"===r.axis&&(a=u*r.aspectRatio),i.width=a,i.height=u):r.aspectRatio&&(a>u*r.aspectRatio?u=a/r.aspectRatio:a=u*r.aspectRatio,i.width=a,i.height=u);var c=(i.left=0-i.width*i.left),(s=i.top=0-i.height*i.top);i.right=i.width+c,i.bottom=i.height+s}return i}(n,r)}}}function Ke(t,e,n,r){return!1}var Je=function(t,n,r,o,a,u,c){if("function"==typeof c)return c(t,n,r,o,a,u);if(S(c))return e=c,"object"===n(e)&&(e={x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}),{left:t-(e?e.x:0),top:n-(e?e.y:0),right:t+r-(e?e.x:0),bottom:n+a-(e?e.y:0),width:r,height:a};var e,s=u.element;if(s&&S(c)&&(c=ze(s).querySelector(c))){var l,f=window.SVGElement,p=window.HTMLElement;l=f&&c instanceof f?c.getBoundingClientRect():function(t){var e;return Ce(t)?t.getBoundingClientRect():{left:(e=t).x,top:e.y,right:e.x,bottom:e.y,width:0,height:0}}(c),r=Math.max(l.width,r),a=Math.max(l.height,a),e={left:l.left,top:l.top}}return{left:t,top:n,right:t+r,bottom:n+a,width:r,height:a}},Qe="undefined"!=typeof window?window:void 0;var We,$e,Ze,Ge,Ke,Je,Qe,ti=function(t){for(var e=0,n=0,r=0;r<t.length;r++){var i=t[r];e+=i.x,n+=i.y}return{x:e/t.length,y:n/t.length}},ei=function(){function t(e){i(this,t),this.original=void 0,this.current=void 0,this.original=e,this.current={x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0}}return e(t,[{key:"set",value:function(t){var e=this.original,n=this.current,r=e.width,i=e.height,o=e.left,a=e.top;if(t.x1){var u=t.x1,c=t.y1,s=t.x2,l=t.y2;n.left=Math.min(u,s),n.top=Math.min(c,l),n.width=Math.abs(u-s),n.height=Math.abs(c-l)}else if(t.left){u=t.left,c=t.top,r=t.width,i=t.height;n.left=u,n.top=c,n.width=r,n.height=i}else u=o+t.dx,c=a+t.dy,n.left=Math.min(u,o+r),n.top=Math.min(c,a+i),n.width=Math.abs(u-o-r),n.height=Math.abs(c-a-i);n.right=n.left+n.width,n.bottom=n.top+n.height}},{key:"revert",value:function(){var t=this.current,e=this.original;t.left=e.left,t.top=e.top,t.width=e.width,t.height=e.height,t.right=e.right,t.bottom=e.bottom}}]),t}();function ni(t,e,n){return!0}var ri="undefined"!=typeof window?window:void 0,ii=ri,oi=function(t,e){var n=t.interaction,i=n.interactable,o=n.element,a=n.prepared,u=a.edges,c=n.rects,s=i.options,l=s.resize.margin||s.margin,f=c.start;u?(n.resizeRects.start.width=f.width,n.resizeRects.start.height=f.height,n.resizeRects.start.left=f.left,n.resizeRects.start.top=f.top):n.resizeRects.start=i.getRect(o),n.resizeRects.start.width=Math.max(n.resizeRects.start.width,l),n.resizeRects.start.height=Math.max(n.resizeRects.start.height,l),n.resizeRects.start.left-=l/2,n.resizeRects.start.top-=l/2,n.resizeRects.start.width+=l,n.resizeRects.start.height+=l;var p=n.resizeRects.start,d=n.resizeRects.start,v=p.left+d.width/2,h=p.top+d.height/2;u={top:u.top&&d.top<e.y&&e.y<d.top+2*l,left:u.left&&d.left<e.x&&e.x<d.left+2*l,bottom:u.bottom&&d.bottom>e.y&&e.y>d.bottom-2*l,right:u.right&&d.right>e.x&&e.x>d.right-2*l};var g=v<e.x,m=h<e.y,y="";return u.top?y=m?"top":null:u.bottom&&(y=m?null:"bottom"),u.left?y+=(g?"left":null):u.right&&(y+=g?null:"right"),y?{name:"resize",edges:u,axis:y}:null};function ai(t,e,n){if(e.type===n+"end"){for(var r in t)t[r].stop(e);return}}function ui(t,e){var n;n=t.doc.body,e.pointerIsDown&&e.pointerWasMoved&&e.prepared.name&&n.classList.add(e.prepared.name+"-pointer-down"),e.pointerIsDown||n.classList.remove(e.prepared.name+"-pointer-down"),function(t,e){if(e.type.indexOf("end")>-1)return;for(var n,r=0;r<e.pointers.length;r++)n=e.pointers[r].pointer,t[n.id]={start:e.pointers[r].down,event:e.pointers[r].down};t[n.id].current=e.pointers[r].down}(e.downPointers,e)}function ci(t){for(var e=0;e<t.length;e++){var n=t[e];n.value=void 0}}function si(t){var e,n=t.interaction,r=t.iEvent,i=t.phase,o=t.rect,a=t.edges,u=t.options;if("end"!==i&&"start"!==i){var c,s,l=n.pointers.length>1,f=(u=u||n.interactable.options).modifiers;if(f&&f.length){var p=new ge("presnap");p.interaction=n,p.target=n.element,p.edges=a,p.page=n.coords.cur.page,p.client=n.coords.cur.client,p.rect=o,p.states=[],n.snapStatus.active=!0,n.snapStatus.index=-1;for(var d=0;d<f.length;d++){var v=f[d],h=v;if(h.options&&h.options.enabled){var m,y,b,x,w,T=h.set(t);n.modification.states[d]=T,T.modified&&(n.modification.endResult=T)}}var S=n.modification.endResult;if(S)e={x:(c=n.coords.cur.page.x+S.delta.x)-p.page.x,y:(s=n.coords.cur.page.y+S.delta.y)-p.page.y,dx:c-p.page.x,dy:s-p.page.y};n.snapStatus.active=!1;var M=e?e.dx:0,k=e?e.dy:0;if(o){if(l&&e){var E=o.width+M,O=o.height+k;o.width=E,o.height=O,o.left-=M,o.top-=k}else e&&(o.left+=M,o.top+=k);o.right=o.left+o.width,o.bottom=o.top+o.height}return e&&!e.dx&&!e.dy?null:e}}var li={start:function(t){var e=t.interaction,n=t.options.modifiers;if(n&&n.length){e.modification=e.modification||{states:new Array(n.length),start:{},cur:{},prev:{},endResult:null};var r=e.modification;r.start={};for(var i=0;i<n.length;i++){var o=n[i];o.start&&M(o.start)&&(r.start[o.id]=o.start({interaction:e}))}}},set:si,beforeEnd:function(t){for(var e,n=t.interaction,r=t.iEvent,i=t.options.modifiers,o=0;o<i.length;o++){var a=i[o],u=n.modification.states[o];if(a&&a.options.enabled&&u&&u.modified&&a.beforeEnd&&M(a.beforeEnd))e=a.beforeEnd({interaction:n,iEvent:r,state:u}),e&&e.delta&&(n.modification.endResult=e)}var c=n.modification.endResult;c&&c.delta&&(n.coords.cur.page.x+=c.delta.x,n.coords.cur.page.y+=c.delta.y)},stop:function(t){var e,n=t.interaction,r=n.modification;if(r&&r.endResult){for(var i=0;i<n.interactable.options.modifiers.length;i++){var o=n.interactable.options.modifiers[i],a=r.states[i];o.stop&&o.options.enabled&&a&&a.modified&&o.stop({interaction:n,state:a})}n.modification.endResult=null}ci(r.states)}},defaults:{}},fi="undefined"!=typeof window?window:void 0;var pi=function(){function t(e){i(this,t),this.target=void 0,this.dropzone=void 0,this.name=void 0,this.element=void 0,this.rect=void 0,Object.assign(this,e)}return e(t,[{key:"drop",value:function(){return this.dropzone.fire({type:this.name,target:this.element,relatedTarget:this.target,dragEvent:this.dragEvent,interaction:this.dragEvent.interaction,dropzone:this.dropzone,draggable:this.dragEvent.interactable,draggableElement:this.target,timeStamp:this.dragEvent.timeStamp})}}]),t}(),di=/^(always|never|auto)$/;function vi(t,e){return t.el=e,t.actions.methodDict[t.prepared.name]({iEvent:t.iEvent,interaction:t,eventTarget:t.element,phase:"start"}),t.prepared.name}function hi(t,e){var n;t.action=null,t.interactable=t.element=null,n=t.iEvent,t.doc.body.classList.remove("drag-ongoing"),e.pointerIsDown||(t.downPointers={},t.downTimes={})}function gi(t,e,n,r){return!(!r.options.enabled||t&&r.options.allowFrom&&!r.options.allowFrom.test(t))&&!(r.options.ignoreFrom&&r.options.ignoreFrom.test(t))}function mi(t,e,n){return{axes:e.axes,unit:e.unit,start:t-e.start,end:t-e.end}}function yi(t,e,n,r,i,o){var a,u=o.width,c=o.height;return n.width=Math.min(e.max.width,Math.max(e.min.width,n.width)),n.height=Math.min(e.max.height,Math.max(e.min.height,n.height)),"x"in r.axes&&(n.width!==u&&(t.x+=n.width-u,n.width=u),"y"in r.axes)||(t.x+=n.width-u),n.width=e.width,n.height!==c&&(t.y+=n.height-c,n.height=c),t.x=Math.max(Math.min(t.x,e.x+e.width-n.width),e.x),t.y=Math.max(Math.min(t.y,e.y+e.height-n.height),e.y),{range:a={min:0,max:0},coords:t,rect:n}}function bi(t,e,n){return{coords:e,getRect:function(r){var i=r.element,o=r.options;return function(t,e){var n=e.element,r=e.options,i=r.elementRect||{left:0,top:0,right:0,bottom:0,width:0,height:0},o=t.getRect(n);if(o){var a=o.width,u=o.height;r.preserveAspectRatio?("x"===r.axis?u=a/r.aspectRatio:"y"===r.axis&&(a=u*r.aspectRatio),i.width=a,i.height=u):r.aspectRatio&&(a>u*r.aspectRatio?u=a/r.aspectRatio:a=u*r.aspectRatio,i.width=a,i.height=u);var c=(i.left=0-i.width*i.left),(s=i.top=0-i.height*i.top);i.right=i.width+c,i.bottom=i.height+s}return i}(n,r)}}}function xi(t,e,n,r){return!1}var wi=function(){function t(e){i(this,t),this.states=void 0,this.elements=void 0,this.rect=void 0,this.states=[],this.elements=[],Object.assign(this,e)}return e(t,[{key:"add",value:function(t,e){var n=t.element,r=t.rect;r?this.rect=r:n&&(this.elements.push(n),this.states.push({element:n,rect:null}))}},{key:"resolve",value:function(t,e,n){if(!this.elements.length)return{rect:null,element:null};for(var r=0;r<this.states.length;r++){var i=this.states[r];i.rect||(i.rect=i.element.getBoundingClientRect())}var o,a=0,u=this.states.map(function(n){return{rect:Fe.transformRect(t,n.rect),distance:Math.sqrt(Math.pow(e.x-n.rect.x,2)+Math.pow(e.y-n.rect.y,2))}});for(r=0;r<u.length;r++){var c=u[r],s=c.rect,l=c.distance;(l<a||l<=a&&s.width*s.height>o.width*o.height)&&(a=l,o=s)}return{rect:o,element:u.map(function(t){return t.distance===a?t.element:null})}}}]),t}(),Ti=function(t,e,n,r,o,a,u){if("function"==typeof u)return u(t,e,n,r,o,a);var c;if(S(u))return i=u,"object"===n(i)&&(i={x:"x"in i?i.x:i.left,y:"y"in i?i.y:i.top}),{left:t-(i?i.x:0),top:e-(i?i.y:0),right:t+n-(i?i.x:0),bottom:e+o-(i?i.y:0),width:n,height:o};var i,s=a.element;if(s&&S(u)&&(u=ze(s).querySelector(u))){var l,f=window.SVGElement,p=window.HTMLElement;l=f&&u instanceof f?u.getBoundingClientRect():function(t){var e;return Ce(t)?t.getBoundingClientRect():{left:(e=t).x,top:e.y,right:e.x,bottom:e.y,width:0,height:0}}(u),n=Math.max(l.width,n),o=Math.max(l.height,o),i={left:l.left,top:l.top}}return{left:t,top:e,right:t+n,bottom:e+o,width:n,height:o}},Si="undefined"!=typeof window?window:{},Mi="undefined"!=typeof document?document:{},ki={id:"snappers",install:function(t){t.snappers=t.snappers||new function(){this.grid=function(t){var e,n=t.range,r=t.limits,i=t.offset,o={range:n,grid:t,x:0,y:0};return r&&(e={top:r.top-i.y,left:r.left-i.x,bottom:r.bottom-i.y,right:r.right-i.x}),o.grid=t,o.x=function(t,e,n,r){var i,o,a,u=t.x,c=t.y,s=n.x,l=n.y;return n={x:s,y:l},s=Math.max(s,r?r.left:0),l=Math.max(l,r?r.top:0),i=Math.min(s+u,r?r.right:1/0),o=Math.min(l+c,r?r.bottom:1/0),{x:e.x>=(i-s)/2?i-u:s,y:e.y>=(o-l)/2?o-c:l}}(n,e,t.offset,e),a={delta:{x:o.x-t.x,y:o.y-t.y},distance:Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2))},a}},this.aspectRatio=function(t){var e,n,r,i,o=t.state,a=o.modified,u=o.edges,c=a?{width:t.rect.width,height:t.rect.height}:{width:t.rect.width,height:t.rect.height};if("preserve"===t.equalDelta?e={x:c.width,y:c.height}:u.top?e={x:c.width/c.height,y:1}:e={x:1,y:c.height/c.width},t.linkedEdges&&(u=t.linkedEdges),o.modified=!0,u.top)return c.height=c.width/t.ratio,c.top=t.rect.top+t.rect.height-c.height;if(u.left)return c.width=c.height*t.ratio,c.left=t.rect.left+t.rect.width-c.width;if(u.bottom)c.height=c.width/t.ratio;else if(u.right)c.width=c.height*t.ratio;return{delta:{x:(n=c.width,r=c.height,i=a?{width:t.rect.width,height:t.rect.height}:{width:t.rect.width,height:t.rect.height},n-i.width),y:r-i.height},rect:c}}},this.points=function(t){for(var e,r,i,o,a,u=t.state,c=t.interaction,s=t.iEvent,l=c.coords.cur.page,f=c.snap.ranges,p=c.snap.targets,d=[],v={x:l.x-c.coords.start.page.x,y:l.y-c.coords.start.page.y,range:-1,distance:0,delta:{x:0,y:0}},h={range:f[0].range,distance:f[0].distance,delta:{x:0,y:0},inRange:!1,target:null,element:null},g=0;g<p.length;g++){var m,y,b,x=p[g];if(x.options&&x.options.enabled){var w=S(x.origin)?x.origin:c.interactable.origin,"x"in(m=x).rect||(m.rect=m.element.getBoundingClientRect());var T=(b=(y=x).rect).width/2,k=b.height/2;y.x=b.left+T,y.y=b.top+k,x.range=w(x.range)?x.range:c.interactable.options.snap.range;var E={x:l.x-x.x,y:l.y-x.y},O=Math.sqrt(Math.pow(E.x,2)+Math.pow(E.y,2)),A=O<=x.range;x.range===f[0].range&&(h.target===x||h.target&&A&&h.distance>O)&&(h.distance=O,h.target=x,h.delta=E,h.inRange=A,h.element=x.element);var P=x.range;A&&(f[0].range>O||f[0].range<0)&&(d.push(x),v={target:x,delta:E,distance:O,range:P,inRange:A})}}var I=t.rect;v.inRange&&I&&(I.left+=v.delta.x,I.top+=v.delta.y,I.right=I.left+I.width,I.bottom=I.top+I.height,o=t.rect,a=v.delta,e=o,n=(r=a).x,i=r.y,e.left+=n,e.top+=i,e.right=e.left+e.width,e.bottom=e.top+e.height);var R=v.distance<h.distance;if(h.inRange&&c.snap.locked)v.inRange=h.inRange,v.distance=h.distance,v.delta=h.delta,v.target=h.target;else if(c.snap.locked&&h.inRange||R)v=h;return u.modified=v.inRange,d.length?{delta:v.delta,targets:d,target:v.target,distance:v.distance,range:v.range}:void 0}}}},Ei=function(t,e,n,r,i,o){var a=o.options,u=a.offset;return t=Math.max(a.range,Math.abs(n.x-i.x)+Math.abs(n.y-i.y)),{range:t,targets:[{x:n.x-(u=u||{x:0,y:0}).x,y:n.y-u.y,range:t}]}},Oi="undefined"!=typeof window?window:void 0,Ai="undefined"!=typeof document?document:void 0;function Pi(t,e){return!(!e.options.enabled||t&&e.options.allowFrom&&!e.options.allowFrom.test(t))&&!(e.options.ignoreFrom&&e.options.ignoreFrom.test(t))}function Ii(t,e,n,r){return!1}var Ri=function(){function t(e){i(this,t),this.event=void 0,this.event=e}return e(t,[{key:"coords",get:function(){return{get page(){return{x:this.event.pageX,y:this.event.pageY}},get client(){return{x:this.event.clientX,y:this.event.clientY}},get timeStamp(){return this.event.timeStamp}}}}]),t}();function Ci(t){t.interaction.modification.stop({phase:"before-end"})&&(t.interaction.modification.start({phase:"before-end"}),t.interaction.modification.applyToInteraction("before-end"))}var zi,Di,Ni,Fi,_i,Bi,Ui,Xi,Yi,ji,qi,Hi=0,Zi=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"],Gi=function(t,e){t=t||{};for(var n in e)t[n]=e[n];return t},Ki={start:function(t){var e=t.interaction,n=t.rect,r=t.edges,i=e.interactable.options[e.prepared.name],o=i.inertia;if("action-resume"===t.phase){var a=e.inertia;a.active?e.inertia=a:e.inertia={active:!0,smoothEnd:!1,allowResume:!1,upCoords:{},endTimestamp:0,startEvent:null,xe:0,ye:0,lambda_v0:0,one_ve_v0:0,v0:0,te:0,v_v0:0,pe:0,p0:0,t0:0,sx:0,sy:0,x0:0,y0:0}}else e.inertia.active=!1,"auto"===o?o=!(i.resistance>0):T(o)||(o={enabled:o}),e.inertia={active:o.enabled,resistance:i.resistance||10,minSpeed:o.minSpeed||100,endSpeed:o.endSpeed||20,allowResume:o.allowResume,smoothEnd:o.smoothEnd}},down:function(t){var e,n=t.interaction,i=t.pointer,o=t.event,a=t.eventTarget;if(!n.inertia.active)return;var u=n.inertia,c=n.coords.cur,s=n.coords.prev;u.startEvent={interaction:n,pointer:i,event:o,eventTarget:a,page:{x:c.page.x,y:c.page.y},client:{x:c.client.x,y:c.client.y},timeStamp:n.updateTime},u.t0=n.updateTime-n.prevTime,u.sx=0,u.sy=0,e=Math.sqrt(Math.pow(c.page.x-s.page.x,2)+Math.pow(c.page.y-s.page.y,2))/u.t0,u.v0=Math.max(e,u.minSpeed)},up:function(t){var e=t.interaction,n=t.pointer,r=t.event;if(e.inertia.active){var i=e.inertia,o=e.coords.cur;i.upCoords={page:{x:o.page.x,y:o.page.y},client:{x:o.client.x,y:o.client.y}},i.endTimestamp=r.timeStamp}},stop:function(t){var e=t.interaction;e.inertia.active&&(e.inertia.active=!1)}},Ji={id:"inertia",before:[],install:function(t){t.usePlugin(Ki),t.usePlugin(Ci)},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia={}},"interactions:down":function(t){Ki.down(t)},"interactions:up":function(t){Ki.up(t)},"interactions:before-action-start":function(t){Ki.start(t)},"interactions:before-action-resume":function(t){Ki.start(t)},"interactions:before-action-end":function(t){var e=t.interaction;if(e.inertia.active)return!1},"interactions:stop":function(t){Ki.stop(t)}}},Qi={id:"pointer-events",install:function(t){t.usePlugin(Xe),t.usePlugin(li)}},Wi="undefined"!=typeof window?window:void 0,$i=function(){function t(){i(this,t)}return e(t,[{key:"init",value:function(t){var e=this;this.scope=t,t.addListeners({"interactions:new":function(t){var n=t.interaction;n.pointerEvents=[],n.events=[],n.targets=[],n.prevTargets=[],n.pointerIds=[],n.pointers=[],n.downTimes=[],n.downPointers={},n.holdTimers=[],n.prevCoords=new $(),n.curCoords=new $(),n.startCoords=new $(),n.pointerIsDown=!1,n.pointerWasMoved=!1,n.downTargets=[],n.pointerUpTime=0,n.previous=null,n.pointer=null,n.pointers=void 0,n.pointerType=void 0,n.target=null,n.currentTarget=null,n.element=null,n.dropTarget=null,n.dropElement=null,n.prevDropTarget=null,n.prevDropElement=null,n.prepared={},n.matches=[],n.matchElements=[],n.inertia={active:!1,smoothEnd:!1,allowResume:!1,upCoords:{},endTimestamp:0,startEvent:null,xe:0,ye:0,lambda_v0:0,one_ve_v0:0,v0:0,te:0,v_v0:0,pe:0,p0:0,t0:0,sx:0,sy:0,x0:0,y0:0},n.pointerIds=[],n.pointers=[],n.targets=[],n.events=[],n.downTimes=[],n.downPointers={},e.scope.fire("interactions:init",{interaction:n})},"interactions:stop":function(t){var n=t.interaction;n.pointerEvents=[],n.events=[],n.targets=[],n.prevTargets=[],n.matches=[],n.matchElements=[],n.pointerIds=[],n.pointers=[],n.downPointers={},n.holdTimers.forEach(function(t){return clearTimeout(t)})}})}}],[{key:"id",get:function(){return"core/interactions"}}]),t}(),$i.install=function(t){t.interactions=new $i,t.interactions.init(t)},"undefined"!=typeof window&&window.Proxy;var Ji=$i;function qi(t){var e=t.interaction,n=t.iEvent,r=t.phase;if(!e.prepared.name&&e.interactable&&e.interactable.options.enable&&("start"===r&&e.interactable.options[e.pointerType]||e.pointerIsDown&&/move/.test(r))){e.prepared.name="drag",e.prepared.axis="xy";var i=e.interactable.options.drag;i&&i.axis&&("x"===i.axis||"y"===i.axis)&&(e.prepared.axis=i.axis)}}var Hi={id:"actions/drag",install:function(t){var e=t.actions,n=t.interactions;e.drag={defaults:{axis:"xy"},checker:qi,getCursor:function(){return"grab"}},e.methodDict.drag=function(t){var r=t.interaction,i=t.iEvent;if(r.pointerIsDown&&r.pointerWasMoved){"start"===t.phase&&r.prepared.name&&(r.startCoords.page=r.coords.cur.page);var o,a=r.coords.cur.page,u=r.coords.prev.page,c={interaction:r,iEvent:i,page:a,prevPage:u,phase:t.phase,rect:r.rects.start,dx:a.x-u.x,dy:a.y-u.y},s=r.interactable.fire((o=c.interaction,new me(o.prepared.name+(c.phase==="start"?"start":"end"===c.phase?"end":"move"),o,c.iEvent)));"end"!==t.phase&&s.result===!1||(e.drag.move(t),s.propagationStopped||q(t))}}},before:[],listeners:{"interactions:before-action-move":q,"interactions:before-action-start":function(t){qi(t)},"interactions:action-resume":function(t){var e=t.interaction,n=e.coords.start.page,r=e.coords.cur.page;e.prepared.name="drag",n.x=r.x,n.y=r.y},interactions:{"new":function(t){var e=t.interaction;e.coords.start.page=e.coords.start.client={x:0,y:0}},down:function(t){var e=t.interaction,n=t.iEvent;!e.prepared.name&&e.interactable.options.drag.enabled&&(e.startCoords.page.x=e.coords.cur.page.x,e.startCoords.page.y=e.coords.cur.page.y)},start:function(t){"drag"===t.interaction.prepared.name&&t.interaction.fire("dragstart",t)},move:function(t){"drag"===t.interaction.prepared.name&&t.interaction.fire("dragmove",t)},end:function(t){"drag"===t.interaction.prepared.name&&t.interaction.fire("dragend",t)}}}},Zi="undefined"!=typeof window?window:void 0;var Gi={id:"actions/resize",install:function(t){var e=t.actions,n=t.interactions;e.resize={defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},checker:function(t,e,n){var r={name:"resize",edges:oi(t,e,n)};return r.edges?r:null},cursors:function(t){var e={x:"col-resize",y:"row-resize",xy:"se-resize"},n=e[t.axis]||e.xy;return u.bottom&&(n=u.top?"y-resize":"se-resize"),u.top&&(n=u.bottom?"y-resize":"ne-resize"),u.left&&(n=u.right?"x-resize":"sw-resize",n+=u.top&&"y-resize"||u.bottom&&"se-resize"||""),u.right&&(n+=u.top&&"ne-resize"||u.bottom&&"se-resize"||""),n},getCursor:function(t){var e=t.edges,n=e,r=t.axis,i=t.name;if(n){var o=Math.abs(r)?r:n.x?"col-resize":"row-resize";return n.y&&(o=n.x?i:r),o}return null},edges:null},e.methodDict.resize=function(t){var n,i=t.interaction,o=t.phase,a=t.iEvent;if("start"===o)i.prepared.name&&(i.resizeRects=new ei(i.rects.start),i.interactable.fire("resizestart",a));else if("end"!==o){var u=i.interactable.fire((n={interaction:i,iEvent:a,page:i.coords.cur.page,rect:i.resizeRects.start,edges:i.prepared.edges,phase:o,dx:i.coords.cur.page.x-i.coords.prev.page.x,dy:i.coords.cur.page.y-i.coords.prev.page.y},new me("resize"+(n.phase==="start"?"start":"end"===n.phase?"end":"move"),i,a)));u.result!==!1&&u.propagationStopped||(e.resize.move(t),u.propagationStopped||t.interaction.pointerIsDown&&t.interaction.pointerWasMoved&&q(t))}},before:[],listeners:{"interactions:new":function(t){t.interaction.resizeRects=new ei},"interactions:start-options":function(t){var e,n=t.interaction,r=t.rect;r&&(e=n.interactable.options.resize,n.prepared.name="resize",n.resizeRects.start.left=r.left,n.resizeRects.start.top=r.top,n.resizeRects.start.right=r.right,n.resizeRects.start.bottom=r.bottom,e.square||e.preserveAspectRatio?n.prepared.axis="xy":n.prepared.axis=e.axis||r.width>r.height?"x":"y",n.prepared.edges=r.edges)},"interactions:action-resume":function(t){e.resize.start(t)},"interactions:action-start":function(t){"resize"===t.interaction.prepared.name&&(e.resize.start(t),t.interaction.fire("resizestart",t.iEvent))},"interactions:action-move":function(t){"resize"===t.interaction.prepared.name&&(e.resize.move(t),t.interaction.fire("resizemove",t.iEvent))},"interactions:action-end":function(t){"resize"===t.interaction.prepared.name&&t.interaction.fire("resizeend",t.iEvent)}}},Ki=function(){function t(){i(this,t),this.x=0,this.y=0,this.buttons=0,this.down=!1,this.event=null,this.cur=new V({pageX:0,pageY:0}),this.prev=new V({pageX:0,pageY:0}),this.start=new V({pageX:0,pageY:0})}return e(t,[{key:"pointer",get:function(){return this.cur}},{key:"delta",get:function(){return{x:this.cur.x-this.prev.x,y:this.cur.y-this.prev.y}}},{key:"downTime",get:function(){return this.event?this.event.timeStamp:0}}]),t}();function Ji(t){var e={};for(var n in t){var r=t[n];S(r)&&(e[n]=r.replace(/start/g,"down").replace(/end/g,"up"))}return e}var Qi=function(t,e){return S(t.pointerType)?t.pointerType:M(PointerEvent)&&t instanceof PointerEvent||M(t.constructor)&&/PointerEvent/.test(t.constructor.name)?ee?"mouse":"touch":"touch"===t.type||"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type||Zt&&t instanceof TouchEvent?"touch":"mouse"},Wi=function(){function t(e,n,r){var o=this;i(this,t),this.interaction=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=void 0,this._latest=void 0,this._pointerEvents=[],this.hold=void 0,this.pointer=e,this.event=n,this.downTime=n.timeStamp,this.id=e.pointerId||e.identifier||-1,this._latest={pointer:e,event:n,pointerType:r.pointerType},r.targets.push({pointer:e,event:n,pointerType:r.pointerType}),this.downTarget=n.target,this.hold={duration:1/0,timeout:null,current:0,last:0},this.interaction.pointerIds.push(this.id),this.interaction.pointers.push(this),this.interaction.downTimes[this.id]=this.downTime,this.interaction.downPointers[this.id]=e,this.pointer=e,this.event=n,this.interaction.targets.push({pointer:e,event:n,pointerType:r.pointerType});var a=function(t){o.hold.duration=t,o.hold.timeout=setTimeout(function(){o.interaction.fire("hold",o)},t)};this.interaction.interactable?this.interaction.interactable.getPerActionOptions().forEach(function(t){var e,n=t.hold;if(n&&n.enabled)a((e=n.delay,w(e)?e:600))}):a(600)}return e(t,[{key:"add",value:function(t){this._latest=t,this._pointerEvents.push(t)}},{key:"release",value:function(t){clearTimeout(this.hold.timeout);var e=this.interaction.pointers.indexOf(this);-1!==e&&this.interaction.pointers.splice(e,1),-1!==(e=this.interaction.pointerIds.indexOf(this.id))&&this.interaction.pointerIds.splice(e,1),delete this.interaction.downPointers[this.id],delete this.interaction.downTimes[this.id]}}]),t}();function $i(t,e,n,r,i){var o,a=t.interaction,u=a.targets,c=(u.length>1?"multitouch":"")+"/".concat(a.prepared.name),s=a.interactable.getPerActionOptions(),l=new ge(s.length?c:""),f=n||a.element;o=a.interactable;var p=f;for(i=i||{interaction:a,event:e,phase:r,target:a.element,iEvent:l,preEnd:!1};o&&o.options.enable;){i.interactable=o,o.fire(i);var d=l;d.propagationStopped||d.immediatePropagationStopped||(p=o.element,o=t.getInteractable(p,s,u))}return a.prevDropTarget=a.dropTarget,a.prevDropElement=a.dropElement,a.dropTarget=null,a.dropElement=null,l}function Zi(t){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gi(t){return!(!t||!t.Window)&&t instanceof t.Window}var Ki="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};function Ji(t){return!!t&&!!t.constructor&&"Promise"===t.constructor.name}var Qi="undefined"!=typeof window?void 0:window,Wi=Gi(Qi)?"true":void 0,$i=function(){function t(e,n){var r=this;i(this,t),this.target=void 0,this.eventable=void 0,this.options=void 0,this._actions=void 0,this.target=e,this.options=Gi({},n||{}),this.eventable=new Bt,this._actions=n.actions||new Zt,this.id=t.idSeq++,this.scope.interactables.push(this),this.scope.fire("interactable:new",{interactable:this,target:e,options:this.options})}return e(t,[{key:"getRect",value:function(t){return t=t||(Ce(this.target)?this.target:null),"function"==typeof this.options.rectChecker?this.options.rectChecker.call(this,t):null}},{key:"getPerActionOptions",value:function(){var t=this;return this._actions.names.map(function(e){return{name:e,options:t.options[e]}})}},{key:"set",value:function(t){return t&&"object"===Zi(t)?(Gi(this.options,t),this.scope.fire("interactable:set",{options:t,interactable:this}),this):this}},{key:"unset",value:function(){delete this.scope.interactables.signals.values["interactable:".concat(this.id)],this.scope.interactables.splice(this.scope.interactables.indexOf(this),1),this.scope.fire("interactable:unset",{interactable:this})}}]),t}();$i.idSeq=0;var te,ne,re,ie,oe,ae,ue,ce,se,fe,pe,de,ve,he,ge,me,ye,be,xe,we,Te,Se,Me,ke,Ee,Oe,Ae,Pe,Ie,Re,Ce,ze,De,Ne,Fe,_e,Be,Ue,Xe,Ye,je,qe,He,Ze,Ge,Ke,Je,Qe,ti,ei,ni,ri,ii,oi,ai,ui,ci,si,li,fi,pi,di,vi,hi,gi,mi,yi,bi,xi,wi,Ti,Si,Mi,ki,Ei,Oi,Ai,Pi,Ii,Ri,Ci,zi,Di,Ni,Fi,_i,Bi,Ui,Xi,Yi,ji,qi,Hi,Zi,Gi,Ki,Ji,Qi,Wi,$i,$t=function t(e){return S(e)?t.choices.indexOf(e)>-1:e in t.choices},Xt=function t(e){var n;return t.choices.reduce(function(t,r){return n=e[r],t+=(n?1:0)},0)},Yt=function(){function t(){var e=this;i(this,t),this.list=[],this.map={},this.signals=new jt,this.signals.on("new",function(t){var n=t.interactable;e.list.push(n),e.map[n.id]=n})}return e(t,[{key:"new",value:function(e,n){n=Gi(n||{},{actions:new Zt});var r=new $i(e,n);return this.scope.fire("interactables:new",{target:e,options:n,interactable:r,win:this.scope.window}),r}},{key:"indexOf",value:function(t){return this.list.indexOf(t)}},{key:"get",value:function(t,e){if(E(t)&&t.options&&t.options.actions)return t;var n,r=(e||this.scope.options||this.scope.actions.methodDict).context;var i=(n=(t=t,k(t)?t.target:t),k(n)?this.list.filter(function(e){var r=e.target,i=e.options,o=i.context;return r===n&&(!o||o===r.ownerDocument||o===r)}):this.list.filter(function(e){return e.target===n})).filter(function(t){return t.options.context===r});return i[0]}},{key:"forEachMatch",value:function(t,e){for(var n=0;n.length;n++)for(var r=0;r<this.list.length;r++){var i,o,a=this.list[r];i=a.target,o=a.options;var u=null;this.scope.documents.some(function(e){return u=e.contains(t),u})&&u&&Ce(t)&&a.options.styleCursor&&"function"==typeof e&&e(a)}}},{key:"signals",get:function(){return this._signals}}]),t}(),jt=function(){function t(){i(this,t),this.values={},this.on("new",function(t){var e=t.name,n=t.value;this.values[e]=n})}return e(t,[{key:"on",value:function(t,e){var n=(this[t]||(this[t]=[])).push(e)}},{key:"off",value:function(t,e){var n=this[t];if(n&&n.length){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}return e}},{key:"fire",value:function(t,e){var n=this[t];if(n&&n.length)for(var r=0;r<n.length;r++){var i=n[r];i.call(this,e)}}}]),t}(),qt={id:"auto-start",install:function(t){var e=t.interactions,n={id:"auto-start/drag",listeners:{"interactions:down":function(t){var n,i=t.interaction,o=t.pointer,a=t.event,u=t.eventTarget;i.pointerIsDown&&!i.interacting()&&("drag"===i.prepared.name||"drag"===(n=i.interactable)&&n.options.drag.enabled&&(i.prepared.name="drag"),(i.prepared.name="drag"||i.pointerType!==i.prevAction?i.prepared.name||(i.pointerType="mouse",i.prepared={name:"drag",axis:"xy"}):i.prepared={name:null}),i.prepared.name&&i.interactable&&!i.interacting()&&"drag"===i.prepared.name&&i.pointerType===i.prevAction?i.prepared={name:null}:i.prepared.name&&"drag"===i.prepared.name&&("start"===i.interactable.options.drag.startAxis?i.prepared.axis="xy":i.prepared.axis=i.interactable.options.drag.axis,"x"===i.prepared.axis||"y"===i.prepared.axis?i.prepared.axis=i.interactable.options.drag.axis:"xy"===i.prepared.axis&&(i.prepared.axis=i.interactable.options.drag.axis),i.pointerType!==i.prevAction?i.prepared.name="drag":"xy"===i.prepared.axis||i.coords.start.page[i.prepared.axis]===i.coords.cur.page[i.prepared.axis]||(i.prepared={name:null})))}},id:"auto-start/resize",listeners:{"interactions:down":function(t){var e,n=t.interaction,i=t.pointer,o=t.event,a=t.eventTarget;n.pointerIsDown&&!n.interacting()&&(e=n.interactable,n.prepared.name="resize",n.prepared.edges=oi(o,n.rects.start,e.options.resize.margin))}},id:"auto-start/gesture",listeners:{"interactions:down":function(t){var e=t.interaction,n=t.pointer,r=t.event,i=t.eventTarget;e.pointerIsDown&&!e.interacting()&&(e.prepared.name="gesture",e.prepared.name="gesture")}}};t.usePlugin(n)}},Ht="undefined"!=typeof window?window:void 0,Zt="undefined"!=typeof document?document:{};function Gt(t,e){if(null==t)return!1;if(!0===e.test(t))return!0;if(!S(t))return!1;var n=Zt.querySelector(t);return!n&&he(t)&&(n=Zt.getElementById(he(t))),n&&Ce(n)?e.test(n):void 0}var Kt=function(){function t(e){i(this,t),this.id=void 0,this.real=void 0,this.props=void 0,this.eventProps=void 0,this.real=e,this.props={x:0,y:0,buttons:0,down:!1,event:null,cur:null,prev:null,start:null},this.eventProps={}}return e(t,[{key:"pointer",get:function(){return this.props.cur}},{key:"delta",get:function(){return this.props.delta}},{key:"downTime",get:function(){return this.props.downTime}}]),t}();function Jt(t,e){for(var n in t){var r=t[n];S(r)&&(t[n]=r.replace(/start/g,"down").replace(/end/g,"up"))}}var Qt="undefined"!=typeof window?window:{},Wt=function(t,e){return S(t.pointerType)?t.pointerType:M(PointerEvent)&&t instanceof PointerEvent||M(t.constructor)&&/PointerEvent/.test(t.constructor.name)?Qt.PointerEvent?"mouse":"touch":"touch"===t.type||"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type||Qt.TouchEvent&&t instanceof Qt.TouchEvent?"touch":"mouse"},$t=function(t,e,n,r,o){var a,u=t.interaction,c=(u.targets.length>1?"multitouch":"")+"/".concat(u.prepared.name),s=u.interactable.getPerActionOptions(),l=new ge(s.length?c:""),f=n||u.element;for(o=o||{interaction:u,event:e,phase:r,target:u.element,iEvent:l,preEnd:!1};(a=u.interactable)&&a.options.enable;){o.interactable=a,a.fire(o);var p=l;p.propagationStopped||p.immediatePropagationStopped||(f=a.element,a=t.getInteractable(f,c,u.targets))}u.prevDropTarget=u.dropTarget,u.prevDropElement=u.dropElement,u.dropTarget=null,u.dropElement=null,l};function Zt(t){var e;this.names=["drag","drop","resize","gesture"],this.methodDict={},this.methods={drag:null,drop:null,resize:null,gesture:null},t&&(this.scope=t,this.scope.actions=this),this.drag=this.drag.bind(this),this.drop=this.drop.bind(this),this.resize=this.resize.bind(this),this.gesture=this.gesture.bind(this),e=this,z(["drag","drop","resize","gesture"],function(t){e.methodDict[t]=t,e[t]||(e[t]=function(e){var n=e,r="on"+b(t).toUpperCase();return E(n)&&(n.ondrag=n.ondrop=n.onresize=n.ongesture=null),"object"===Zi(n)?(n[r]=n[r]||function(){},n):n})})}function Gt(t,e){for(var n,r=0;r<t.length;r++){var i=t[r];if((i=i.options[e.prepared.name])&&i.enabled){var o=new Fe.Drop({dropzone:i,draggable:e.interactable,draggableElement:e.element,dragEvent:n,drop:{x:e.coords.cur.page.x,y:e.coords.cur.page.y}});(e.drop.active||e.drop.active&&e.drop.active.dropzone!==o.dropzone)&&(e.drop.prev=e.drop.active,e.drop.active=o,e.drop.active.drop()!==!1&&(e.drop.dropped=e.drop.active))}}}var Kt=function(){function t(e){i(this,t),this.interaction=e,this.target=null,this.dropzone=null,this.element=null,this.rect=null,this.dropped=null}return e(t,[{key:"start",value:function(t,e){var n,r=this,i=this.interaction,o=[],a=[],u={interaction:i,dragEvent:e};this.active=null,this.dropped=null,this.prev=null;var c=i.interactable.getRect(i.element);c&&i.interactables.forEachMatch(i.element,function(t){t.options.drop.enabled&&(n=t.options.drop.accept,Gt(i.element,n)?(o.push(t),a.push(t.element)):i.drop.active=null)}),i.drop.active=null,i.drop.targets=o,i.drop.elements=a,i.interactables.signals.on("move",function(t){var e=t.dragmove,n=t.interaction;r.active&&r.active.dropzone.fire({type:"dropmove",target:i.element,dragEvent:e,interaction:n,dropzone:r.active.dropzone,draggable:i.interactable,draggableElement:i.element,timeStamp:e.timeStamp,page:e.page,client:e.client,delta:e.delta})})}},{key:"end",value:function(t,e){var n=this.interaction;this.active&&this.active.drop(),this.prev&&this.prev.drop()}},{key:"move",value:function(t,e){this.interaction.drop.active=null,this.interaction.drop.dropped=null}}]),t}();var Jt,Qt,Wt,$t=function(t,e,n){return{axes:e.axes,unit:e.unit,start:t-e.start,end:t-e.end}},Xt={id:"auto-scroll",install:function(t){var e=t.autoScroll,n=t.interactions;t.usePlugin(Ki),t.usePlugin(li),e.defaults={container:null,margin:60,distance:5,interval:5},e.now=function(){return(new Date).getTime()},e.interaction=null,e.i=0,e.isScrolling=!1,e.prevTime=0,e.start=function(t){e.isScrolling=!0,Hi=t.scope.requestAnimationFrame(function(){if(e.isScrolling){var n,r=t.container,i=t.x,o=t.y;t.x?r.scrollLeft+=i:t.y&&(r.scrollTop+=o),(n=e.now()-e.prevTime)>0&&n<66&&n>0&&(t.x?r.scrollLeft+=i*(66/n-1):t.y&&(r.scrollTop+=o*(66/n-1))),e.prevTime=e.now(),e.isScrolling&&Hi&&(cancelAnimationFrame(Hi),Hi=requestAnimationFrame(e.start))})},e.stop=function(){e.isScrolling=!1,Hi&&cancelAnimationFrame(Hi)},n.signals.on("stop",e.stop),n.signals.on("action-move",function(t){var n=t.interaction,r=n.interactable.options.autoScroll;if(r&&r.enabled){var i,o,a=r.container,u=e.now();if(a||(a=Jt),e.interaction!==n){e.stop();var c;if(e.interaction=n,e.i=n.i,e.isScrolling=!1,Hi&&cancelAnimationFrame(Hi),i=n.element,a===Jt){for(;i.parentNode;){if(i.parentNode===n.doc.body)break;i=i.parentNode}a=i}e.i=n.i}if(e.isScrolling)return void(u-e.prevTime<500?e.prevTime=u:(e.stop(),e.interaction=null));var s=a.getBoundingClientRect(),l=a===Jt?{x:0,y:0}:{x:s.left,y:s.top},f=t.iEvent.page.x-l.x,p=t.iEvent.page.y-l.y,d=a===Jt?{x:a.scrollWidth-a.clientWidth,y:a.scrollHeight-a.clientHeight}:{x:a.scrollWidth-s.width,y:a.scrollHeight-s.height},v=r.distance,h={x:0,y:0};f<r.margin?h.x=-v:f>s.width-r.margin&&(h.x=v),p<r.margin?h.y=-v:p>s.height-r.margin&&(h.y=v),h.x>0&&a.scrollLeft>=d.x?h.x=0:h.x<0&&a.scrollLeft<=0&&(h.x=0),h.y>0&&a.scrollTop>=d.y?h.y=0:h.y<0&&a.scrollTop<=0&&(h.x||h.y)&&(e.start({container:a,x:h.x,y:h.y,interaction:n,i:e.i}),e.prevTime=u)}})}}},Yt="undefined"!=typeof window?window:void 0,jt={};function qt(t,e,n){return!(!n.options.enabled||t&&n.options.allowFrom&&!n.options.allowFrom.test(t))&&!(n.options.ignoreFrom&&n.options.ignoreFrom.test(t))}var Ht={id:"dev-tools",install:function(t,e){e=e||{},t.usePlugin(Qi),t.usePlugin(Ji),t.usePlugin(Hi),t.usePlugin(Gi),t.usePlugin(Xt);var n=t.logger;t.logger=e.logger||new function(){this.error=function(){return console.error.apply(console,arguments)},this.warn=function(){return console.warn.apply(console,arguments)},this.log=function(){return console.log.apply(console,arguments)}},Object.defineProperty(t.Interactable.prototype,"devTools",{get:function(){var t=this;return this.options.devTools||(this.options.devTools=new function(){this.options=void 0,this.options=t.options.devTools||{},Object.defineProperty(this,"options",{get:function(){return t.options.devTools}})})}}),t.devTools={logger:n,warnOnce:function(e,n){var r;return t.devTools.warned||(t.devTools.warned={}),!t.devTools.warned[e]&&(t.devTools.warned[e]=n)}}}},Zt={};function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Kt,Jt="undefined"!=typeof window?window:{},Qt=function(){function t(e,n){var r=this;i(this,t),this.options=void 0,this.options=n||{},this.id=e||"",this.scope=n.scope||Zt.scope,this.scope.plugins.list.push(this),this.id&&this.scope.plugins.map[this.id]&&(this.scope.logger.warn("plugin ".concat(this.id," is already loaded.")),this.scope.plugins.list.splice(this.scope.plugins.list.indexOf(this),1)),this.id&&(this.scope.plugins.map[this.id]=this)}return e(t,[{key:"listeners",get:function(){return this._listeners}},{key:"install",value:function(t){}}]),t}();function Wt(t,e){return t.addListeners(e)}function $t(t,e){return t.actions=e,t.actions.methodDict=e.methodDict={},t.actions.names=[],t.actions.methodDict={}}var Xt=function(){var t={};return function(e,n){var r=n||{},i=r.phase,o=r.context;return t[e]&&t[e][i]&&t[e][i].filter(function(t){return t.context===o})}}(),Yt=function(){function t(){i(this,t),this.list=[],this.map={}}return e(t,[{key:"install",value:function(t){this.scope=t;var e=t.Interactable,n=t.interactions,r=this;e.prototype.pointerEvents=function(t){return r.addPointer(t,this.target,this.options),this},e.prototype.hold=function(t){return r.addHold(t,this.target,this.options),this},n.signals.on("new",function(t){var e,n=t.interaction;n.pointerEvents=[],n.events=[],n.targets=[],n.prevTargets=[],n.pointerIds=[],n.pointers=[],n.downTimes=[],n.downPointers={},n.holdTimers=[],n.prevCoords=new $(),n.curCoords=new $(),n.startCoords=new $(),n.pointerIsDown=!1,n.pointerWasMoved=!1,n.downTargets=[],n.pointerUpTime=0,n.previous=null,n.pointer=null,n.pointers=void 0,n.pointerType=void 0,n.target=null,n.currentTarget=null,n.element=null,n.dropTarget=null,n.dropElement=null,n.prevDropTarget=null,n.prevDropElement=null,n.prepared={},n.matches=[],n.matchElements=[],n.inertia={active:!1,smoothEnd:!1,allowResume:!1,upCoords:{},endTimestamp:0,startEvent:null,xe:0,ye:0,lambda_v0:0,one_ve_v0:0,v0:0,te:0,v_v0:0,pe:0,p0:0,t0:0,sx:0,sy:0,x0:0,y0:0},n.pointerIds=[],n.pointers=[],n.targets=[],n.events=[],n.downTimes=[],n.downPointers={},e=n,r.scope.fire("interactions:init",{interaction:e})}),n.signals.on("stop",function(t){var e=t.interaction;e.pointerEvents=[],e.events=[],e.targets=[],e.prevTargets=[],e.matches=[],e.matchElements=[],e.pointerIds=[],e.pointers=[],e.downPointers={},e.holdTimers.forEach(function(t){return clearTimeout(t)})})}}]),t}();function jt(t,e){var n=t.interaction;n.pointerIsDown&&n.pointerWasMoved&&!n.pointerIsDragging&&("drag"===n.prepared.name||"resize"===n.prepared.name&&n.prepared.axis)&&(n.pointerIsDragging=!0,t.interaction.fire(n.prepared.name+"dragstart",t.iEvent))}function qt(t,e){return e.options[t]&&e.options[t].enabled}function Ht(t,e){return!(!e.options.enabled||t&&e.options.allowFrom&&!e.options.allowFrom.test(t))&&!(e.options.ignoreFrom&&e.options.ignoreFrom.test(t))}var Zt=function(){function t(e,n){var r=this;i(this,t),this.id=void 0,this.real=void 0,this.props=void 0,this.eventProps=void 0,this.real=e,this.props={x:0,y:0,buttons:0,down:!1,event:null,cur:null,prev:null,start:null},this.eventProps={}}return e(t,[{key:"pointer",get:function(){return this.props.cur}},{key:"delta",get:function(){return this.props.delta}},{key:"downTime",get:function(){return this.props.downTime}}]),t}();function Gt(t,e){var n=t.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;"x"===r?n.coords.cur.page.y=n.coords.start.page.y:"y"===r&&(n.coords.cur.page.x=e.coords.start.page.x)}n.pointers.forEach(function(t){var e,n=t.pointer,r=t.delta,i=t.down,o=t.previous,a=n.interaction.prevCoords.page,u=n.interaction.coords.cur.page;n.pointerIsDown&&n.pointerWasMoved&&!n.pointerIsDragging&&(u.x=o.page.x,u.y=o.page.y,r.page.x=0,r.page.y=0);var c={interaction:n,pointer:i,event:o,eventTarget:n.element,dx:u.x-(e&&e.options.drag.lockAxis?a.x:o.page.x),dy:u.y-(e&&e.options.drag.lockAxis?a.y:o.page.y)};n.fire("dragmove",c)})}function Kt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.pointer===e)return r}}var Jt,Qt="undefined"!=typeof window?window:void 0;var Wt=function(){function t(e){i(this,t),this.downTime=void 0,this.downTime=e}return e(t,null,[{key:"get",value:function(e,n){return new t(e?n.downTimes[e.pointerId||e.identifier||-1]:0)}},{key:"find",value:function(e,n){for(var r,i,o,a=0;a<e.length;a++){var u;u=n[a].down,r=u}return new t(r?n.downTimes[n[r.id]]:0)}}]),t}(),Xt=function(t,e,n){return t=t||{},e=e||{},n=n||{},Gi(t,{preventDefault:"auto"}),Gi(e,t),Gi(n,e),n},Yt={id:"core/scope",install:function(t){var e;t.id=(e=(Math.random()+"").slice(2),Date.now()+e.slice(e.length-8)).toString(36),t.interactables=new Yt,t.interactions=new Yt,t.signals=new jt,t.actions=new Zt(t),t.events={listeners:{},ontargets:{},phasable:{}},t.now=function(){return(new Date).getTime()},t.logger=console,t.plugins={list:[],map:{}},t.usePlugin=function(e,n){return this.plugins.map[e.id]?this:e.install(this,n),this.plugins.map[e.id]=e,this}}},jt="undefined"!=typeof window?window:void 0,qt=jt.document,Ht=function(t,e){return S(t)&&-1!==t.search(" ")&&(t=ye(t)),Array.isArray(t)?t.reduce(function(t,n){return t.concat(Ht(n,e))},[]):k(e)?Ht(t,function(t,n){return e.test(t,n)})?t:null:function(t,e,n,r){return!1}(0,0,t,e)};var Zt=function(){function t(e,n,r,o,a){i(this,t),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.delegateTarget=void 0,this.relatedTarget=null,this.result=void 0,this._interaction=void 0,this.timeStamp=void 0,this.originalEvent=void 0,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this._interaction=a,this.target=n,this.currentTarget=r,this.delegateTarget=o,this.type=e,this.timeStamp=a.updateTime}return e(t,[{key:"preventDefault",value:function(){}},{key:"interaction",get:function(){return this._interaction._proxy}},{key:"interactable",get:function(){return this._interaction.interactable}},{key:"pointerType",get:function(){return this._interaction.pointerType}},{key:"pointerId",get:function(){return this._interaction.pointers[0].id}},{key:"pointer",get:function(){return this._interaction.pointers[0].pointer}},{key:"pointers",get:function(){return this._interaction.pointers.map(function(t){return t.pointer})}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"dx",get:function(){return this.delta.x}},{key:"dy",get:function(){return this.delta.y}},{key:"dt",get:function(){return this._interaction.dt}},{key:"page",get:function(){return this._interaction.coords.cur.page}},{key:"client",get:function(){return this._interaction.coords.cur.client}},{key:"delta",get:function(){return this._interaction.coords.delta.page}},{key:"rect",get:function(){return this._interaction.rects.start}},{key:"x0",get:function(){return this._interaction.coords.start.page.x}},{key:"y0",get:function(){return this._interaction.coords.start.page.y}},{key:"t0",get:function(){return this._interaction.downTimes[0]}},{key:"velocity",get:function(){var t=this._interaction.coords.velocity;return{x:t.x,y:t.y,speed:t.speed}}},{key:"swipe",get:function(){return this._interaction.prevEvent?this._interaction.prevEvent.swipe:null}},{key:"toString",value:function(){return"base"}}]),t}();function Gt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.id===e.id)return r}return null}function Kt(t,e,n){return!(!e.options.enabled||t&&e.options.allowFrom&&!Gt(n,t))&&!(e.options.ignoreFrom&&Gt(n,t))}function Jt(t){var e={};for(var n in t){var r=t[n];S(r)&&(e[n]=r.replace(/start/g,"down").replace(/end/g,"up"))}return e}var Qt=function(t){function n(t,e,r){var o;return i(this,n),o=u.call(this,t,e,r,o=a,o=e,o=r),o}return o(n,t),e(n,[{key:"getRect",value:function(t){return u.getRect.call(this,t)}}]),n}($i),Wt=function(){function t(e){i(this,t),this.scope=void 0,this.scope=e}return e(t,[{key:"get",value:function(e,n){return this.scope.interactables.get(e,n)}},{key:"forEachMatch",value:function(t,e){return this.scope.interactables.forEachMatch(t,e)}}]),t}();var $t=function(){function t(e){var n;i(this,t),this.target=void 0,this.options=void 0,this.options=Gi({},(n=e,Gi({},(t=n||{}).events)))).events,this.target=n}return e(t,[{key:"fire",value:function(t){var e=this.listeners,n=this.prev,r=this.cur,i=t.type;if(this.cur=t,this.prev=n,e[i]){for(var o=0;o<e[i].length;o++){var a=e[i][o];if(a.call(this,t),t.immediatePropagationStopped)break}}}},{key:"on",value:function(t,e){var n=this;if(t&&S(t)){var r=t.indexOf(" ")>-1?ye(t):[t];this.listeners||(this.listeners={});for(var i=0;i<r.length;i++){var o=r[i];this.listeners[o]=this.listeners[o]||[],this.listeners[o].push(e)}}else if(k(t))D(t,function(t,r){n.on(r,t)})}},{key:"off",value:function(t,e){var n=this;if(t&&S(t)){var r,i,o=t.indexOf(" ")>-1?ye(t):[t],a=(r=e,i=n,function(t,e,n,o,a,u){var c,s,l=o.split(".");return t=t.split("."),c=t.length,s=l.length,c>s||c<s&&e?null:(t.forEach(function(e,n){"*".replace(e,".*").replace(l[n],".*")}),t)}("."+n,!!e,this.listeners,t,e))||[];if(t&&this.listeners[t]){if(e){for(var u=0;u<a.length;u++){var c=a[u],s=this.listeners[t].indexOf(c);-1!==s&&this.listeners[t].splice(s,1)}}else this.listeners[t].length=0}}else if(k(t))D(t,function(t,r){n.off(r,t)})}}]),t}();function Xt(t,e,n){return{axes:"xy",unit:"px",start:0,end:1/0}}function Yt(t,e,n,r,i,o){var a,u=o.width,c=o.height;return n.width=Math.min(e.max.width,Math.max(e.min.width,n.width)),n.height=Math.min(e.max.height,Math.max(e.min.height,n.height)),"x"in r.axes&&(n.width!==u&&(t.x+=n.width-u,n.width=u),"y"in r.axes)||(t.x+=n.width-u),n.width=e.width,n.height!==c&&(t.y+=n.height-c,n.height=c),t.x=Math.max(Math.min(t.x,e.x+e.width-n.width),e.x),t.y=Math.max(Math.min(t.y,e.y+e.height-n.height),e.y),{range:a={min:0,max:0},coords:t,rect:n}}function jt(t,e,n){return{coords:e,getRect:function(r){var i=r.element,o=r.options;return function(t,e){var n=e.element,r=e.options,i=r.elementRect||{left:0,top:0,right:0,bottom:0,width:0,height:0},o=t.getRect(n);if(o){var a=o.width,u=o.height;r.preserveAspectRatio?("x"===r.axis?u=a/r.aspectRatio:"y"===r.axis&&(a=u*r.aspectRatio),i.width=a,i.height=u):r.aspectRatio&&(a>u*r.aspectRatio?u=a/r.aspectRatio:a=u*r.aspectRatio,i.width=a,i.height=u);var c=(i.left=0-i.width*i.left),(s=i.top=0-i.height*i.top);i.right=i.width+c,i.bottom=i.height+s}return i}(n,r)}}}function qt(t,e,n,r){return!1}var Ht=function(t,e,n,r,o,a,u){if("function"==typeof u)return u(t,e,n,r,o,a);if(S(u))return i=u,"object"===Gt(i)&&(i={x:"x"in i?i.x:i.left,y:"y"in i?i.y:i.top}),{left:t-(i?i.x:0),top:e-(i?i.y:0),right:t+n-(i?i.x:0),bottom:e+o-(i?i.y:0),width:n,height:o};var i,c=a.element;if(c&&S(u)&&(u=ze(c).querySelector(u))){var s,l=window.SVGElement,f=window.HTMLElement;s=l&&u instanceof l?u.getBoundingClientRect():function(t){var e;return Ce(t)?t.getBoundingClientRect():{left:(e=t).x,top:e.y,right:e.x,bottom:e.y,width:0,height:0}}(u),n=Math.max(s.width,n),o=Math.max(s.height,o),i={left:s.left,top:s.top}}return{left:t,top:e,right:t+n,bottom:e+o,width:n,height:o}},Zt="undefined"!=typeof window?window:{};function Gt(t,e,n,r,i,o){var a=o.options,u=a.offset;return t=Math.max(a.range,Math.abs(n.x-i.x)+Math.abs(n.y-i.y)),{range:t,targets:[{x:n.x-(u=u||{x:0,y:0}).x,y:n.y-u.y,range:t}]}}var Kt=function(){function t(e,n,r){var o=this;i(this,t),this.target=void 0,this.eventable=void 0,this.options=void 0,this._actions=void 0,this.target=e,this.options=Gi({},n||{}),this.eventable=new $t(n.events),this._actions=n.actions||new Zt,this.id=t.idSeq++,this.scope.interactables.push(this),this.scope.fire("interactable:new",{interactable:this,target:e,options:this.options})}return e(t,[{key:"getRect",value:function(t){return t=t||(Ce(this.target)?this.target:null),"function"==typeof this.options.rectChecker?this.options.rectChecker.call(this,t):null}},{key:"getPerActionOptions",value:function(){var t=this;return this._actions.names.map(function(e){return{name:e,options:t.options[e]}})}},{key:"set",value:function(t){return t&&"object"===Gt(t)?(Gi(this.options,t),this.scope.fire("interactable:set",{options:t,interactable:this}),this):this}},{key:"unset",value:function(){delete this.scope.interactables.signals.values["interactable:".concat(this.id)],this.scope.interactables.splice(this.scope.interactables.indexOf(this),1),this.scope.fire("interactable:unset",{interactable:this})}}]),t}();Kt.idSeq=0;var Jt=function(){function t(e,n,r,o,a,u){i(this,t),this.interaction=void 0,this.target=void 0,this.dropzone=void 0,this.dragEvent=void 0,this.element=void 0,this.rect=void 0,this.dropzone=n,this.target=o,this.element=a,this.dragEvent=e,this.rect=u}return e(t,[{key:"drop",value:function(){return this.dropzone.fire({type:this.name,target:this.element,relatedTarget:this.target,dragEvent:this.dragEvent,interaction:this.dragEvent.interaction,dropzone:this.dropzone,draggable:this.dragEvent.interactable,draggableElement:this.target,timeStamp:this.dragEvent.timeStamp})}}]),t}();var Qt={id:"actions",install:function(t){t.actions=new Zt(t),t.interact=new Wt(t),t.usePlugin(Ji),t.usePlugin(Hi),t.usePlugin(Gi),t.usePlugin(Kt)},listeners:{"interactions:new":function(t){t.interaction.interactable=null},"interactions:down":function(t){var e,n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=n.interactable=t.scope.interactables.get(o);a?n.element=a.target:n.element=o,n.rects.start.left=n.rects.start.right=n.coords.start.page.x,n.rects.start.top=n.rects.start.bottom=n.coords.start.page.y,n.rects.start.width=n.rects.start.height=0,n.rects.start.x=n.rects.start.y=0,n.rects.cur.left=n.rects.cur.right=n.coords.cur.page.x,n.rects.cur.top=n.rects.cur.bottom=n.coords.cur.page.y,n.rects.cur.width=n.rects.cur.height=0,n.rects.cur.x=n.rects.cur.y=0,n.downEvent=i,n.downTime=i.timeStamp,n.downPointer=r,n.pointerIsDown=!0;var u=a&&a.options.styleCursor;if(null!=u){var c=t.scope.document,s=c.documentElement;s.style.cursor=i.buttons?u.down:"grab",c.addEventListener("mouseup",function(){s.style.cursor="",c.removeEventListener("mouseup",arguments.callee)})}t.scope.fire("interactions:init",{interaction:n}),a&&(t.scope.fire("interactions:init",{interaction:n}),a.fire(new Zt("down",a,i,o,n)))},"interactions:before-action-start":function(t){var e,n=t.interaction,r=t.iEvent,i=t.phase;n.prepared.name&&n.interacting()&&(n.interactable.options[n.prepared.name].cursor&&(n.element.style.cursor=n.interactable.options[n.prepared.name].cursor),e=new me(n.prepared.name+"start",n.interactable,r,n.element,n.rects.start),n.interactable.fire(e),n.interacting()&&(n.rects.start.left=n.rects.cur.left,n.rects.start.top=n.rects.cur.top,n.rects.start.width=n.rects.cur.width,n.rects.start.height=n.rects.cur.height,n.rects.start.x=n.rects.cur.x,n.rects.start.y=n.rects.cur.y))},"interactions:action-start":function(t){var e,n,r,i=t.interaction;n=t.iEvent,r=i,t.scope.fire("interactions:init",r),i.pointerIsDown&&i.pointerWasMoved&&!i.pointerIsDragging&&("drag"===i.prepared.name||"resize"===i.prepared.name&&i.prepared.axis)&&(i.pointerIsDragging=!0,t.scope.fire(i.prepared.name+"dragstart",n))},"interactions:action-end":function(t){var e,n=t.interaction,r=t.iEvent;e=n.prepared.name,i.prepared.name+"end",n.interactable.fire(new me(e+"end",n.interactable,r,n.element,null,t.interaction))},"interactions:stop":function(t){var e=t.interaction,n=e.interactable;n&&n.options.styleCursor&&(e.element.style.cursor="")}}};try{window.Interactable=Kt}catch(t){}return Zt.usePlugin(Yt),Zt.usePlugin(Qt),Zt.usePlugin(Ht),Zt.usePlugin(qt),Zt.usePlugin(Hi),Zt.usePlugin(Gi),Zt.usePlugin(Xt),Zt.usePlugin(Ki),Zt});
//# sourceMappingURL=interact.min.js.map